{"version":3,"file":"pages/collect/index.js","sources":["webpack:///./src/pages/collect/index.vue?f057","webpack:///._src_pages_collect_index.vue","webpack:///./src/pages/collect/index.vue?87a7","webpack:///./src/pages/collect/index.vue?d8fc","webpack:///./src/pages/collect/index.vue?029e","webpack:///./src/pages/collect/index.vue?3943","webpack:///./src/pages/collect/index.vue?454a"],"sourcesContent":["import { render } from \"./index.vue?vue&type=template&id=65d3c54e\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&id=65d3c54e&lang=scss\"\nscript.render = render\n/* hot reload */\nif (module.hot) {\n  script.__hmrId = \"65d3c54e\"\n  const api = __VUE_HMR_RUNTIME__\n  module.hot.accept()\n  if (!api.createRecord('65d3c54e', script)) {\n    api.reload('65d3c54e', script)\n  }\n  \n  module.hot.accept(\"./index.vue?vue&type=template&id=65d3c54e\", () => {\n    api.rerender('65d3c54e', render)\n  })\n\n}\n\nscript.__file = \"src/pages/collect/index.vue\"\n\nexport default script","<template>\n  <view class=\"index\">\n    <nut-toast\n      :msg=\"toast.msg\"\n      v-model:visible=\"toast.visual\"\n      :type=\"toast.type\"\n      :cover=\"toast.cover\"\n    />\n    <nut-cell>\n      <view class=\"infiniteUl\">\n          <view class=\"infiniteLi\" v-for=\"item in mycollect\" :key=\"item.id\">\n            <img\n              :src=\"`https://picsum.photos/id/${item.id}/1000`\"\n              class=\"collectphotos\"\n              @tap=\"toDetail(item.photos_index)\"\n            />\n            <view>\n              {{ item.author }}\n              <nut-icon\n                name=\"del\"\n                class=\"delcollect\"\n                @tap=\"delcollect(item.id, item.photos_index)\"\n              />\n            </view>\n          </view>\n        </view>\n    </nut-cell>\n  </view>\n</template>\n<script>\nimport { toRefs, reactive, onMounted, computed } from \"vue\";\nimport { useStore } from \"vuex\";\nimport Taro from \"@tarojs/taro\";\nexport default {\n    name: 'Collect',\n    setup() {\n        const store = useStore();\n        const state = reactive({\n            mycollect: computed(() => store.state.mycollect),\n            toast: {\n                msg: \"toast\",\n                type: \"text\",\n                visual: false,\n                cover: false,\n            },\n            infiniteloading: {\n                isOpenRefresh: false,\n                hasMore: true,\n            },\n        });\n        const methods = {\n            delcollect: (id, index) => {\n                store.commit(\"DEL_MYCOLLECT\", { id: id, index: index });\n            },\n\n            GoIndex: () => {\n                Taro.switchTab({\n                    url: `/pages/index/index`,\n                });\n            },\n            toDetail: (index) => {\n                Taro.navigateTo({\n                    url: `/pages/detail/index?idx=${index}`,\n                });\n            },\n        };\n        onMounted(() => {\n            try {\n                let pictures = Taro.getStorageSync(\"pictures\");\n                let mycollect = Taro.getStorageSync(\"mycollect\");\n                if (pictures) {\n                    store.commit(\"UPDATE_PICTURE\", JSON.parse(pictures));\n                }\n                if (mycollect) {\n                    store.commit(\"UPDATE_MYCOLLECT\", JSON.parse(mycollect));\n                }\n            } catch (error) {\n                console.log(error.message());\n            } finally {\n                state.toast.visual = false;\n            }\n        });\n        return {\n            ...toRefs(state),\n            ...methods,\n        };\n    }\n}\n</script>\n<style lang=\"scss\">\n.index {\n  font-family: \"Avenir\", Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n}\n.infiniteUl {\n  height: 550px;\n  width: 100%;\n  overflow-y: auto;\n  overflow-x: hidden;\n}\n.infiniteLi {\n  margin-top: 10px;\n  font-size: 14px;\n  color: rgba(100, 100, 100, 1);\n  text-align: center;\n}\n.collectphotos {\n  max-width: 100%;\n  height: 260px;\n  width: 95%;\n  margin: 10px;\n  border-radius: 8px;\n  box-shadow: 0 13px 27px -5px hsl(240deg 30% 28% / 25%),\n    0 8px 16px -8px hsl(0deg 0% 0% / 30%), 0 -6px 16px -6px hsl(0deg 0% 0% / 3%);\n}\n.delcollect {\n  left: 30px;\n  top: 7px;\n}\n</style>","// extracted by mini-css-extract-plugin","import { createPageConfig } from '@tarojs/runtime'\nimport component from \"../../../node_modules/_@tarojs_taro-loader@3.3.1@@tarojs/taro-loader/lib/raw.js!./index.vue\"\nvar config = {\"navigationBarTitleText\":\"我的收藏\"};\n\n\nvar inst = Page(createPageConfig(component, 'pages/collect/index', {root:{cn:[]}}, config || {}))\n\n","export { default } from \"-!../../../node_modules/_babel-loader@8.2.1@babel-loader/lib/index.js!../../../node_modules/_vue-loader@16.5.0@vue-loader/dist/index.js??ref--10-0!./index.vue?vue&type=script&lang=js\"; export * from \"-!../../../node_modules/_babel-loader@8.2.1@babel-loader/lib/index.js!../../../node_modules/_vue-loader@16.5.0@vue-loader/dist/index.js??ref--10-0!./index.vue?vue&type=script&lang=js\"","export * from \"-!../../../node_modules/_mini-css-extract-plugin@0.8.0@mini-css-extract-plugin/dist/loader.js!../../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--1-oneOf-0-1!../../../node_modules/_vue-loader@16.5.0@vue-loader/dist/stylePostLoader.js!../../../node_modules/_postcss-loader@4.3.0@postcss-loader/dist/cjs.js??ref--1-oneOf-0-2!../../../node_modules/_resolve-url-loader@4.0.0@resolve-url-loader/index.js!../../../node_modules/_sass-loader@10.1.1@sass-loader/dist/cjs.js??ref--1-oneOf-0-4!../../../node_modules/_vue-loader@16.5.0@vue-loader/dist/index.js??ref--10-0!./index.vue?vue&type=style&index=0&id=65d3c54e&lang=scss\"","export * from \"-!../../../node_modules/_babel-loader@8.2.1@babel-loader/lib/index.js!../../../node_modules/_vue-loader@16.5.0@vue-loader/dist/templateLoader.js??ref--6!../../../node_modules/_vue-loader@16.5.0@vue-loader/dist/index.js??ref--10-0!./index.vue?vue&type=template&id=65d3c54e\""],"mappings":";;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAYA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;ACOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAJA;AAMA;AACA;AACA;AAFA;AARA;AAaA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AADA;AAGA;AACA;AACA;AACA;AADA;AAGA;AAdA;AAgBA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA;AArDA;;;;;;;;;;;;;;;;;;AAhCA;;;AAQA;;;;;;;;;;AARA;AAEA;AACA;;AAAA;AAGA;AAFA;AACA;AACA;;AALA;AAOA;AAAA;AACA;AAAA;AAAA;AAcA;AAZA;AACA;AACA;AAAA;AAAA;AACA;;AAJA;AAOA;AAKA;AAJA;AACA;AACA;AAAA;AAAA;AACA;;AAJA;AAMA;;AAdA;AADA;;;;AAiBA;;;;;;;;;;;;AC1BA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACNA;AAAA;AAAA;AAAA;;;;;;;;;;;;ACAA;AAAA;AAAA;;;;;;;;;;;;;;ACAA;AAAA;AAAA;;;;;A","sourceRoot":""}